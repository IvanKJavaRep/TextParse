{
  "content" : "Document",
  "elements" : [ {
    "content" : "table",
    "listOfRows" : [ [ "Дата", "Версия документа", "Изменения" ], [ "26.11.2021", "2.0", "Актуализированы методы «<a href=\"#_метод_авторизации_и_получения_авторизующей_cookie\">Метод авторизации и получения авторизующей cookie</a>», «<a href=\"#_метод_получения_информации_по_обращению\">Метод получения информации по обращению</a>», «<a href=\"#_метод_создания_обращения\">Метод создания обращения</a>», «<a href=\"#_метод_добавления_вложения_в_обращение\">Метод добавления вложения в обращение</a>», «<a href=\"#_метод_добавления_комментария_к_обращению\">Метод добавления комментария к обращению</a>», «<a href=\"#_метод_возврата_обращения_в_работу_или_его_закрытия\">Метод возврата обращения в работу или его закрытия</a>»;<br>\nДобавлен новый метод «<a href=\"#_метод_по_получению_информации_по_массиву_обращений_с_условием\">Метод по получению информации по массиву обращений с условием</a>»" ], [ "08.02.2020", "1.0", "Начальная версия" ] ]
  }, {
    "content" : "table",
    "listOfRows" : [ [ "Термин, сокращение", "Определение" ], [ "API BPM", "Интерфейс взаимодействия Системы обработки обращений Службы технической поддержки Оператора" ], [ "ИНН", "Идентификационный номер налогоплательщика" ], [ "СТП", "Служба технической поддержки" ] ]
  }, {
    "content" : "Интерфейс взаимодействия Системы обработки обращений СТП Оператора (API BPM) предназначен для интеграции Систем (ServiceDesk, товарно-учетные системы и пр.) Участника с системой обработки обращений Оператора."
  }, {
    "content" : "С помощью API BPM можно:"
  }, {
    "content" : "list",
    "lst" : [ "направить обращение в СТП;", "получить информацию по обращению;", "внести дополнительную информацию по обращению;", "вернуть обращение в работу или закрыть его." ]
  }, {
    "content" : "Время доступности API BPM 24 часа, 7 дней в неделю с перерывами на техническое обслуживание."
  }, {
    "content" : "По вопросам работы API BPM необходимо обращаться в СТП Оператора по телефону 8-800-222-15-23 или по электронной почте <a href=\"mailto:support@crpt.ru\">support@crpt.ru</a>."
  }, {
    "content" : "Доступ к API BPM предоставляется Участникам, зарегистрированным на Портале технической поддержки - <a href=\"https://support.crpt.ru\">support.crpt.ru</a>. Тестовый стенд доступен по адресу <a href=\"https://int.support.crpt.ru/\">int.support.crpt.ru</a>."
  }, {
    "content" : "https://support.crpt.ru"
  }, {
    "content" : "https://int.support.crpt.ru/"
  }, {
    "content" : "Для регистрации на Портале технической поддержки необходимо создать обращение в СТП Оператора на электронный почтовый адрес: <a href=\"mailto:support@crpt.ru\">support@crpt.ru</a>. В обращении необходимо указать:"
  }, {
    "content" : "list",
    "lst" : [ "наименование Пользователя;", "ИНН;", "контактные данные представителей, уполномоченных осуществлять взаимодействие с СТП:" ]
  }, {
    "content" : "Изменения в API BPM публикуются на сайте <a href=\"https://честныйзнак.рф/\">честныйзнак.рф</a>, а также в информационной рассылке не позднее двух недель до внесения изменений."
  }, {
    "content" : "https://честныйзнак.рф/"
  }, {
    "content" : "Узнать об изменениях и ознакомиться с актуальной версией описания методов API BPM можно на сайте <a href=\"https://честныйзнак.рф/\">честныйзнак.рф</a>."
  }, {
    "content" : "https://честныйзнак.рф/"
  }, {
    "content" : "Метод используется для авторизации на API и получения авторизующей cookie. После получения cookie её необходимо добавлять в headers каждого запроса."
  }, {
    "content" : "<strong>URL:</strong> {hostname}/ServiceModel/AuthService.svc/Login"
  }, {
    "content" : "<strong>Метод:</strong> POST"
  }, {
    "content" : "<strong>Пример строки запроса:</strong>"
  }, {
    "content" : "<strong>Пример запроса:</strong>"
  }, {
    "content" : "<strong>Параметры запроса:</strong>"
  }, {
    "content" : "table",
    "listOfRows" : [ [ "Параметр", "Тип", "Обяз.", "Описание", "Комментарий" ], [ "login", "string", "+", "Логин", "" ], [ "password", "string", "+", "Пароль", "" ] ]
  }, {
    "content" : "<strong>Заголовки ответа:</strong>"
  }, {
    "content" : "Cookie BPMLOADER, .ASPXAUTH, BPMCSRF нужно добавлять в headers запросов."
  }, {
    "content" : "<strong>Пример ответа при успешном выполнении запроса:</strong>"
  }, {
    "content" : "<strong>Пример ответа при неуспешном выполнении запроса:</strong>"
  }, {
    "content" : "Метод возвращает следующую информацию по обращению:"
  }, {
    "content" : "list",
    "lst" : [ "тема;", "описание;", "приоритет;", "состояние обращения;", "сообщения от специалистов СТП и ссылки на прикрепленные файлы;", "решение по обращению." ]
  }, {
    "content" : "<strong>URL:</strong> {hostname}/0/ssp/rest/PublicWebServices/case/{номер обращения}"
  }, {
    "content" : "<strong>Метод:</strong> GET"
  }, {
    "content" : "<strong>Пример строки запроса:</strong>"
  }, {
    "content" : "<strong>Пример ответа при успешном выполнении запроса:</strong>"
  }, {
    "content" : "<strong>Пример ответа при неуспешном выполнении запроса:</strong>"
  }, {
    "content" : "<strong>Параметры ответа:</strong>"
  }, {
    "content" : "Возможные значения:"
  }, {
    "content" : "list",
    "lst" : [ "1 - «Обычный»;", "2 - «Средний»;", "3 - «Высокий»;", "4 - «Критический»" ]
  }, {
    "content" : "table",
    "listOfRows" : [ [ "Параметр", "Тип", "Обяз.", "Описание", "Комментарий" ], [ "ok", "boolean", "+", "Результат выполнения запроса", "" ], [ "data", "array", "+", "Идентификатор сообщения", "" ], [ "*createdon", "string", "+", "Дата создания сообщения", "" ], [ "*files", "array", "+", "Массив файлов для решения", "" ], [ "*id", "string", "+", "Идентификатор сообщения", "" ], [ "*messages", "array", "-", "Текст сообщения", "" ], [ "*modifiedon", "string", "-", "Дата изменения обращения", "" ], [ "*number", "string", "+", "Номер обращения", "" ], [ "*priority", "integer", "+", "Приоритет", "Возможные значения:\n\n* 1 - «Обычный»;\n* 2 - «Средний»;\n* 3 - «Высокий»;\n* 4 - «Критический»" ], [ "*satisfactioncomment", "string", "+", "Комментарий к оценке", "" ], [ "*satisfactionlevel", "integer", "+", "Уровень удовлетворенности (от 1 до 5)", "" ], [ "*solution", "string", "+", "Решение", "" ], [ "*status", "string", "+", "Статус обращения", "Возможные значения статусов обращения см. в «<a href=\"#_приложение_1_справочник_статусы_обращений\">Приложение 1. Справочник «Статусы обращений»</a>»" ], [ "*statuscode", "integer", "+", "Код статуса", "Возможные значения кодов статуса см. в «<a href=\"#_приложение_1_справочник_статусы_обращений\">Приложение 1. Справочник «Статусы обращений»</a>»" ], [ "*statusdate", "string", "+", "Дата последнего статуса", "" ], [ "*subject", "string", "+", "Тема обращения", "" ], [ "*symptoms", "string", "+", "Описание проблемы, с которой обратился Участник", "" ], [ "error", "string", "-", "Описание ошибки", "Появляется только при неуспешном выполнении запроса" ] ]
  }, {
    "content" : "Метод возвращает номер созданного обращения."
  }, {
    "content" : "<strong>URL:</strong> {hostname}/0/ssp/rest/PublicWebServices/case"
  }, {
    "content" : "<strong>Метод:</strong> POST"
  }, {
    "content" : "<strong>Пример строки запроса:</strong>"
  }, {
    "content" : "<strong>Пример запроса:</strong>"
  }, {
    "content" : "<strong>Пример ответа при успешном выполнении запроса:</strong>"
  }, {
    "content" : "<strong>Пример ответа при неуспешном выполнении запроса:</strong>"
  }, {
    "content" : "<strong>Параметры ответа:</strong>"
  }, {
    "content" : "table",
    "listOfRows" : [ [ "Параметр", "Тип", "Обяз.", "Описание", "Комментарий" ], [ "ok", "boolean", "+", "Результат выполнения запроса", "" ], [ "data", "string", "+", "Номер обращения", "" ], [ "error", "string", "-", "Описание ошибки", "Появляется только при неуспешном выполнении запроса" ] ]
  }, {
    "content" : "Метод предназначен для добавления вложения в обращение (скриншоты, файлы и т.д.)."
  }, {
    "content" : "<strong>URL:</strong> {hostname}/0/ssp/rest/PublicWebServices/file"
  }, {
    "content" : "<strong>Метод:</strong> POST"
  }, {
    "content" : "<strong>Пример строки запроса:</strong>"
  }, {
    "content" : "<strong>Параметры запроса:</strong>"
  }, {
    "content" : "table",
    "listOfRows" : [ [ "Параметр", "Тип", "Обяз.", "Описание", "Комментарий" ], [ "filename", "string", "+", "Название файла", "" ], [ "number", "string", "+", "Номер обращения", "" ], [ "totallength", "integer", "+", "Размер файла", "" ] ]
  }, {
    "content" : "<strong>Пример ответа при успешном выполнении запроса:</strong>"
  }, {
    "content" : "<strong>Пример ответа при неуспешном выполнении запроса:</strong>"
  }, {
    "content" : "<strong>Параметры ответа:</strong>"
  }, {
    "content" : "Возможные значения:"
  }, {
    "content" : "list",
    "lst" : [ "«File not found» (Файл не найден);", "«Exceeded the maximum number of request per minute» (Превышено максимальное количество запросов в минуту)" ]
  }, {
    "content" : "table",
    "listOfRows" : [ [ "Параметр", "Тип", "Обяз.", "Описание", "Комментарий" ], [ "ok", "boolean", "-", "Результат выполнения запроса", "" ], [ "error_message", "string", "-", "Сообщение об ошибке", "Возможные значения:\n\n* «File not found» (Файл не найден);\n* «Exceeded the maximum number of request per minute» (Превышено максимальное количество запросов в минуту)" ] ]
  }, {
    "content" : "Метод позволяет добавить новый комментарий к обращению от оператора СТП."
  }, {
    "content" : "<strong>URL:</strong> {hostname}/0/ssp/rest/PublicWebServices/message"
  }, {
    "content" : "<strong>Метод:</strong> POST"
  }, {
    "content" : "<strong>Пример строки запроса:</strong>"
  }, {
    "content" : "<strong>Пример запроса:</strong>"
  }, {
    "content" : "<strong>Параметры запроса:</strong>"
  }, {
    "content" : "table",
    "listOfRows" : [ [ "Параметр", "Тип", "Обяз.", "Описание", "Комментарий" ], [ "number", "string", "+", "Номер обращения", "" ], [ "text", "string", "+", "Текст сообщения", "" ] ]
  }, {
    "content" : "<strong>Пример ответа при успешном выполнении запроса:</strong>"
  }, {
    "content" : "<strong>Пример ответа при неуспешном выполнении запроса:</strong>"
  }, {
    "content" : "<strong>Параметры ответа:</strong>"
  }, {
    "content" : "table",
    "listOfRows" : [ [ "Параметр", "Тип", "Обяз.", "Описание", "Комментарий" ], [ "ok", "boolean", "+", "Результат выполнения запроса", "" ], [ "data", "string", "+", "Идентификатор сообщения", "" ], [ "error", "string", "-", "Описание ошибки", "Появляется только при неуспешном выполнении запроса" ] ]
  }, {
    "content" : "Метод позволяет вернуть обращение в работу или закрыть его."
  }, {
    "content" : "<strong>URL:</strong> {hostname}/0/ssp/rest/PublicWebServices/update_case"
  }, {
    "content" : "<strong>Метод:</strong> POST"
  }, {
    "content" : "<strong>Пример строки запроса:</strong>"
  }, {
    "content" : "<strong>Пример запроса:</strong>"
  }, {
    "content" : "<strong>Параметры запроса:</strong>"
  }, {
    "content" : "Возможные значения:"
  }, {
    "content" : "list",
    "lst" : [ "«close» («Закрыто») - обращение закрыто;", "«reopen» («Переоткрыто») - обращение переоткрыто. Доступно для обращения в статусе «Требует вашего внимания» с заполненным обязательным полем «solution» («Решение»)" ]
  }, {
    "content" : "table",
    "listOfRows" : [ [ "Параметр", "Тип", "Обяз.", "Описание", "Комментарий" ], [ "number", "string", "+", "Номер обращения", "" ], [ "status", "string", "+", "Статус обращения", "Возможные значения:\n\n* «close» («Закрыто») - обращение закрыто;\n* «reopen» («Переоткрыто») - обращение переоткрыто. Доступно для обращения в статусе «Требует вашего внимания» с заполненным обязательным полем «solution» («Решение»)" ], [ "satisfactionlevel", "integer", "-", "Уровень удовлетворенности решением обращения", "Доступен для статуса «Требует вашего внимания» с заполненным обязательным полем «solution» («Решение»)" ], [ "satisfactioncomment", "string", "-", "Комментарий к оценке решения", "Доступен для статуса «Требует вашего внимания» с заполненным обязательным полем «solution» («Решение»)" ], [ "statuscode", "integer", "-", "Код статуса", "Возможные значения кодов статуса см. в «<a href=\"#_приложение_1_справочник_статусы_обращений\">Приложение 1. Справочник «Статусы обращений»</a>»" ], [ "statusdate", "string", "-", "Дата последнего статуса", "" ] ]
  }, {
    "content" : "<strong>Пример ответа при успешном выполнении запроса:</strong>"
  }, {
    "content" : "<strong>Пример ответа при неуспешном выполнении запроса:</strong>"
  }, {
    "content" : "<strong>Параметры ответа:</strong>"
  }, {
    "content" : "table",
    "listOfRows" : [ [ "Параметр", "Тип", "Обяз.", "Описание", "Комментарий" ], [ "data", "string", "+", "Номер обращения", "" ], [ "error", "string", "-", "Описание ошибки", "Появляется только при неуспешном выполнении запроса" ] ]
  }, {
    "content" : "<strong>URL:</strong> {hostname}/0/ssp/rest/PublicWebServices/cases"
  }, {
    "content" : "<strong>Метод:</strong> POST"
  }, {
    "content" : "<strong>Пример строки запроса:</strong>"
  }, {
    "content" : "<strong>Пример запроса:</strong>"
  }, {
    "content" : "<strong>Параметры запроса:</strong>"
  }, {
    "content" : "Возможные значения:"
  }, {
    "content" : "list",
    "lst" : [ "0 - возвращает только созданные пользователем;", "1 - возвращает все доступные" ]
  }, {
    "content" : "Возможные значения:"
  }, {
    "content" : "list",
    "lst" : [ "statuscode - первичная сортировка по статусам;", "modifiedon - сортировка по дате изменения" ]
  }, {
    "content" : "table",
    "listOfRows" : [ [ "Параметр", "Тип", "Обяз.", "Описание", "Комментарий" ], [ "numbers", "string", "-", "Фильтр по номерам обращений", "Массив с одним значением может указываться без квадратных скобок" ], [ "statuscode", "integer", "-", "Фильтр по кодам статусов", "Возможные значения кодов статуса см. в «<a href=\"#_приложение_1_справочник_статусы_обращений\">Приложение 1. Справочник «Статусы обращений»</a>»" ], [ "count", "integer", "-", "Количество возвращаемых объектов", "" ], [ "skip", "string", "-", "Количество игнорируемых объектов от первоначальной выборки", "" ], [ "from", "string", "-", "Начало периода для фильтра по полю «createdon» («Дата создания сообщения»)", "" ], [ "to", "string", "-", "Конец периода для фильтра по полю «createdon» («Дата создания сообщения»)", "" ], [ "search_line", "string", "-", "Строка для поиска в теме и описании", "" ], [ "availability_level", "string", "-", "Выбор обращений", "Возможные значения:\n\n* 0 - возвращает только созданные пользователем;\n* 1 - возвращает все доступные" ], [ "sort", "string", "-", "Сортировка", "Возможные значения:\n\n* statuscode - первичная сортировка по статусам;\n* modifiedon - сортировка по дате изменения" ] ]
  }, {
    "content" : "Примечание: в запросе должен быть обязательно заполнен один из параметров."
  }, {
    "content" : "<strong>Пример ответа:</strong>"
  }, {
    "content" : "<strong>Параметры ответа:</strong>"
  }, {
    "content" : "Возможные значения:"
  }, {
    "content" : "list",
    "lst" : [ "1 - «Обычный»;", "2 - «Средний»;", "3 - «Высокий»;", "4 - «Критический»" ]
  }, {
    "content" : "table",
    "listOfRows" : [ [ "Параметр", "Тип", "Обяз.", "Описание", "Комментарий" ], [ "ok", "boolean", "+", "Результат выполнения запроса", "" ], [ "count", "integer", "-", "Количество возвращаемых объектов", "" ], [ "data", "string", "-", "Идентификатор обращения", "" ], [ "*createdon", "string", "-", "Дата создания обращения", "" ], [ "*files", "array", "-", "Массив файлов для решения", "" ], [ "*id", "string", "-", "Идентификатор обращения", "" ], [ "*messages", "string", "-", "Массив данных переписки", "" ], [ "*modifiedon", "string", "-", "Дата изменения обращения", "" ], [ "*number", "string", "-", "Номер обращения", "" ], [ "*priority", "integer", "-", "Приоритет", "Возможные значения:\n\n* 1 - «Обычный»;\n* 2 - «Средний»;\n* 3 - «Высокий»;\n* 4 - «Критический»" ], [ "*satisfactioncomment", "string", "-", "Комментарий к оценке", "" ], [ "*satisfactionlevel", "integer", "-", "Уровень удовлетворенности (от 1 до 5)", "" ], [ "*solution", "string", "-", "Решение", "" ], [ "*status", "string", "-", "Статус обращения", "Возможные значения статусов обращения см. в «<a href=\"#_приложение_1_справочник_статусы_обращений\">Приложение 1. Справочник «Статусы обращений»</a>»" ], [ "*statuscode", "integer", "-", "Код статуса", "Возможные значения кодов статуса см. в «<a href=\"#_приложение_1_справочник_статусы_обращений\">Приложение 1. Справочник «Статусы обращений»</a>»" ], [ "*statusdate", "string", "-", "Дата последнего статуса", "" ], [ "*subject", "string", "-", "Тема обращения", "" ], [ "*symptoms", "string", "-", "Описание проблемы, с которой обратился Участник", "" ], [ "pagecount", "integer", "-", "Количество обращений", "" ] ]
  }, {
    "content" : "table",
    "listOfRows" : [ [ "Код статуса («statuscode»)", "Статус обращения («status»)" ], [ "1", "Требует Вашего внимания" ], [ "2", "Предоставлено решение" ], [ "3", "В работе" ], [ "4", "Открыто" ], [ "5", "Закрыто / close" ], [ "6", "Переоткрыто / reopen" ] ]
  } ]
}